function checkboxChange(e, t) { if ($("#" + e).attr("checked")) { $("#" + e).attr("checked", false); $("#" + t).attr("src", $("#" + t).attr("src").replace("-on", "-off")) } else { $("#" + e).attr("checked", true); $("#" + t).attr("src", $("#" + t).attr("src").replace("-off", "-on")) } ResetAndReloadRecipes() } function changeImage(e, t, n) { if (n == "over") { if (!$("#" + e).attr("checked")) { $("#" + t).attr("src", $("#" + t).attr("src").replace("-off", "-on")) } } else { if (!$("#" + e).attr("checked")) { $("#" + t).attr("src", $("#" + t).attr("src").replace("-on", "-off")) } } } function LoadMoreRecipe() { try { var e = $("#hfIDUser").val(); var t = $("#hfIDRequester").val(); var n = 0; var r = 0; n = $("#ddlRecipeType").data("ddslick").selectedData["value"]; r = $("#ddlRecipeSource").data("ddslick").selectedData["value"]; var i = parseInt($("#hfRowOffSet").val()); var s = 15; var o = $("#chkVegan").is(":checked"); var u = $("#chkVegetarian").is(":checked"); var a = $("#chkGlutenFree").is(":checked"); var f = 1e4; var l = 1e4; var c = $("#hfIDLanguage").val(); var h = $("#txtRecipeFilter").val(); if ($("#chkLight").is(":checked")) { f = $("#hfLightRecipeThreshold").val() } if ($("#chkQuick").is(":checked")) { l = $("#hfQuickRecipeThreshold").val() } var p = ""; $("#boxLoading").css({ visibility: "visible" }); $.ajax({ dataType: "json", contentType: "application/json; charset=utf-8", type: "POST", url: "http://" + WebServicesPath + "/Recipe/GetRecipesByType.asmx/GetRecipesInRecipesBook", data: "{ IDUser: '" + e + "',IDRequester: '" + t + "',RecipeType: '" + n + "',ShowFilter: '" + r + "',RecipeNameFilter: '" + h + "', RowOffSet: '" + i + "', FetchRows: '" + s + "', Vegan: '" + o + "', Vegetarian: '" + u + "', GlutenFree: '" + a + "', LightThreshold: '" + f + "', QuickThreshold: '" + l + "', IDLanguage: '" + c + "'}", success: function (e) { $.each(e.d, function () { $("#RecipesListContainer").append(this.replace("{RecipeOf}", $("#hfRecipeOf").val()).replace("{RecipeOf2}", $("#hfRecipeOf2").val()).replace("{EditRecipe}", $("#hfEditRecipeText").val())) }); $(".pnlBackground").height($(".pnlContent").height()); if (e.d.length < 15) { $("#pnlNextPage").css({ visibility: "hidden" }) } else { $("#pnlNextPage").css({ visibility: "visible" }) } if (i == 0) { $("#pnlPrevPage").css({ visibility: "hidden" }) } else { $("#pnlPrevPage").css({ visibility: "visible" }) } if (e.d.length == 0 && i == 0) { $("pnlNoSearchResult").css({ display: "block" }); $("#pnlPrevPage").css({ visibility: "hidden" }); $("#pnlNextPage").css({ visibility: "hidden" }) } else { $("pnlNoSearchResult").css({ display: "none" }) } $("#boxLoading").css({ visibility: "hidden" }); $("#hfRowOffSet").val(i) } }) } catch (d) { } } function ResetAndReloadRecipes() { $("#pnlPrevPage").css({ visibility: "hidden" }); $("#hfRowOffSet").val("0"); $("#RecipesListContainer").html(""); LoadMoreRecipe() } function Next() { $("#RecipesListContainer").html(""); var e = parseInt($("#hfRowOffSet").val()); e += 15; $("#hfRowOffSet").val(e); LoadMoreRecipe() } function Prev() { $("#RecipesListContainer").html(""); var e = parseInt($("#hfRowOffSet").val()); e -= 15; $("#hfRowOffSet").val(e); LoadMoreRecipe() }